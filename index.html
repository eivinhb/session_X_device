
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>«Session» på kryss av devicer</title>
    <script src="http://gnab.github.io/remark/downloads/remark-0.6.0.min.js" type="text/javascript"> </script>
    <script type="text/javascript">
        var referenceWidth = 1280;
    </script>
    <style type="text/css" media="screen">
        @import url(http://fonts.googleapis.com/css?family=Roboto+Slab);
        @import url(http://fonts.googleapis.com/css?family=Roboto);

        body { font-family: 'Roboto'; font-size: 1.5em }
        h1, h2, h3 {
            font-family: 'Roboto Slab';
            font-weight: 400;
            margin-bottom: 0;
            margin-top: 10px;
        }
        h1 { font-size: 2.5em; }
        h2 { font-size: 2em; }
        h3 { font-size: 1.6em; }

        .inverse {
            background: #272727;
            color: #777872;
            text-shadow: 0 0 20px #333;
        }
        .inverse h1, .inverse h2 {
            color: #f3f3f3;
            line-height: 0.8em;
        }

        pre {
            border-left: 0.4em solid #d7d7d7;
            padding: 1em !important;
        }
        code {
            background: transparent !important;
        }
        a {
            color: #fd5157;
            text-decoration: none;
        }
        .task {
            float: right;
            font-size: 0.9em;
            padding-top: 0.6em;
        }
        .task a {
            color: #080;
            text-decoration: none;
        }
        .right {
            float: right;
            margin-left: 1em;
        }
        .pushdown {
            margin-top: 12em;
        }
    </style>
</head>
<body>
<textarea id="source">
class: center, middle, inverse

# «Session» på kryss av devicer

### by [@eivinhb](http://twitter.com/eivinhb)

---


# Kravene

Mye snakk om storeweb og lilleweb og at de skulle fungere sømløst.

- Lilleweb kan ikke være på innlogget side
    - TTL: Innlogget bruker blir alltid utlogget etter ca 1 time
    - Mye styr å måtte logge inn for å få en pris

- Storeweb er på innlogget side
    - Desktop

- Skjema på storeweb skal prepopuleres fra lilleweb

---

# Tekniske rammer

Prosjektet hadde endel begrensninger med hensyn på valg av arkitektur og mye var satt.

- Java-backend
    - To servere i par bak BigIP
    - Session bør unngåes
    - Sticky session er vanligst

- Ingen database
    - Nye databaser opprettes ikke for alle prosjekter

---

# Brukerhistorien

    Som forhandler
    skal jeg fra mobilen få pris på forsikring og finansiering
    og når jeg logger på ForhandlerWeb med min bruker
    skal jeg få de samme dataene inn i skjemaet
    slik at jeg kan forsette med bestillingen uten å måtte fylle ut på nytt

---

# Hazelcast

### pros
- Minnebasert cluster Key/Value-map
- Krever ingen database eller serveroppsett
- 1 jar dependency rett i java backend
- Auto eviction på TTL


### cons
- Data blir ikke persistert, ingen garantert løsning (men det kan backes av en DB).


---

class: center, middle, inverse

# Demo

</textarea>
<script>
    var slideshow = remark.create({ highlightLanguage: 'java', ratio:"16:9"});
</script>
</body>
</html>
